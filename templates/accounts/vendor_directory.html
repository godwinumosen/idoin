{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="container my-5">
    <h2 class="text-center mb-5 fw-bold">Vendor Directory</h2>

    <div class="row g-4">
        {% for vendor in vendors %}
        <div class="col-12 col-sm-6 col-md-4">
            <div class="card h-100 shadow-sm border-0 hover-shadow transition">
                
                {% if vendor.profile_image %}
                    <img src="{{ vendor.profile_image.url }}" class="card-img-top" style="height:220px; object-fit:cover;">
                {% else %}
                    <img src="{% static 'images/vendor_placeholder.png' %}" class="card-img-top" style="height:220px; object-fit:cover;">
                {% endif %}

                <div class="card-body d-flex flex-column">
                    <h5 class="card-title fw-semibold">{{ vendor.business_name }}</h5>
                    <p class="card-text text-truncate">{{ vendor.bio|truncatechars:100 }}</p>
                    <p class="text-muted mb-3"><i class="bi bi-geo-alt-fill me-1"></i>{{ vendor.location }}</p>
                    <a href="{% url 'vendor_profile_detail' vendor.user.id %}" class="btn btn-primary mt-auto">View Profile</a>
                </div>
            </div>
        </div>
        {% empty %}
            <p class="text-center text-muted mt-5">No approved vendors available.</p>
        {% endfor %}
    </div>
</div>

<style>
/* Card hover effect */
.card.hover-shadow {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.card.hover-shadow:hover {
    transform: translateY(-5px);
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.2);
}
</style>

{% endblock %}